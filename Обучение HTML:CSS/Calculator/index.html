<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="./style.css">
	<link rel="stylesheet" type="text/css" href="file:///Users/butkovskiylev/Documents/CompassPlusTraining/Обучение%20HTML:CSS/style.css">
	<title>Калькулятор</title>
	<meta charset="utf-8"/>	
</head>
<body>
	<div class="head">
		<!--alt - Если картинки нет, title - Всплывающая подсказка -->
		<div class="navigation">
			<h1 id="title">Calculator</h1>
			<hr>
			<div id="navigationLeft">
				<ul>
					<li><a href="file:///Users/butkovskiylev/Documents/CompassPlusTraining/Обучение%20HTML:CSS/index.html">Главная</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="background">
			<div class="window">
				<span><b>Calculator</b><h1 class="input" id="show">0</h1></span>
			</div>
			<br>
			<div class="buttons">
				<button onclick="delButton()" class="button" id="del"><h2>DEL</h2></button>
				<button class="button" id="sign"><h2>%</h2></button>
				<button onclick="plusButton()" class="button" id="sign"><h2>+</h2></button>
				<br>
				<button onclick="sevenButton()" class="button" id="number"><h2>7</h2></button>
				<button onclick="eigthButton()" class="button" id="number"><h2>8</h2></button>
				<button onclick="nineButton()" class="button" id="number"><h2>9</h2></button>
				<button onclick="minusButton()" class="button" id="sign"><h2>-</h2></button>
				<br>
				<button onclick="fourButton()" class="button" id="number"><h2>4</h2></button>
				<button onclick="fiveButton()" class="button" id="number"><h2>5</h2></button>
				<button onclick="sixButton()" class="button" id="number"><h2>6</h2></button>
				<button onclick="multiplyButton()" class="button" id="sign"><h2>x</h2></button>
				<br>
				<button onclick="oneButton()" class="button" id="number"><h2>1</h2></button>
				<button onclick="twoButton()" class="button" id="number"><h2>2</h2></button>
				<button onclick="threeButton()" class="button" id="number"><h2>3</h2></button>
				<button onclick="devideButton()" class="button" id="sign"><h2>/</h2></button>
				<br>
				<button onclick="nullButton()" class="button" id="null"><h2>0</h2></button>
				<button onclick="dotButton()" class="button" id="sign"><h2>.</h2></button>
				<button onclick="equalButton()" class="button" id="sign"><h2>=</h2></button>
				<br>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		doc = document.getElementById("show");
		sign = "";
		firstNumber = "0";
		secondNumber = null;

		function show(number){
			if(number == "."){
				doc.innerHTML += number
			}
			else{
				doc.innerHTML == "0" ? doc.innerHTML = number : doc.innerHTML += number;
			}
		}

		function saveNumber(number){
			show(number);
			if(firstNumber == "0"){
				if(number == "0" || sign != ""){
					updateSecondNumber(number);
					firstNumber = "0";
				}
				else{
					firstNumber = number
				}
			}
			else if(sign == ""){
				firstNumber += number
			}
			else{
				updateSecondNumber(number);
			}
		}

		function updateSecondNumber(number){
			secondNumber == null ? secondNumber = number : secondNumber += number;
		}

		function setNil(){
			doc.innerHTML = "0"
			firstNumber = "0";
			secondNumber = null; 
			sign = "";
		}

		// Buttons
		function nullButton(){
			saveNumber("0");
		}

		function oneButton(){
			saveNumber("1");
		}

		function twoButton(){
			saveNumber("2");
		}

		function threeButton(){
			saveNumber("3");
		}

		function fourButton(){
			saveNumber("4");
		}

		function fiveButton(){
			saveNumber("5");
		}

		function sixButton(){
			saveNumber("6");
		}
		
		function sevenButton(){
			saveNumber("7");
		}

		function eigthButton(){
			saveNumber("8");
		}

		function nineButton(){
			saveNumber("9");
		}

		//Sign's
		function plusButton(){
			checkSign("+");
		}

		function minusButton(){
			checkSign("-");
		}

		function multiplyButton(){
			checkSign("*");
		}

		function devideButton(){
			checkSign("/");
		}

		function checkSign(signValue){
			if (sign == "") {
				addSign(signValue)
			}
			else{
				sign = ""
				secondNumber = null;
				addSign(signValue);
			}
		}

		function addSign(signValue){
			sign = signValue;
			doc.innerHTML = firstNumber + signValue;
		}

		// Other buttons
		function delButton(){
			setNil();
		}

		function equalButton(){
			if(sign != "" && secondNumber != null){
				switch(sign){
					case "+": plus(); break;
					case "-": minus(); break;
					case "*": multiply(); break;
					case "/": devide(); break;
				}
			}
		}

		function dotButton(){
			dot = "."
			sign == "" ? firstNumber += dot : secondNumber += dot;
			show(dot);
		}

		// Mathematic functions
		function plus(){
			sum = Number(firstNumber) + Number(secondNumber);
			doc.innerHTML = sum;
			firstNumber = sum;
		}

		function minus(){
			sum = Number(firstNumber) - Number(secondNumber)
			doc.innerHTML = sum;
			firstNumber = sum;
		}

		function multiply(){
			sum = Number(firstNumber) * Number(secondNumber)
			doc.innerHTML = sum;
			firstNumber = sum;
		}

		function devide(){
			if(secondNumber == 0){
				alert("На ноль делить нельзя");
				setNil();
				return ;
			}
			sum = Number(firstNumber) / Number(secondNumber)
			doc.innerHTML = sum;
			firstNumber = sum;
		}

	</script>
</body>
</html>